import{Q as f}from"./QPage.bbb0cf0e.js";import{b as Q,Q as q,c as p}from"./use-quasar.0d0457f1.js";import{Q as L,a as g,g as V}from"./google-icon.31c7635c.js";import{u as C,i as u,o as y,e as v,w as s,f as e,V as P,Q as r,a7 as k,d as B}from"./index.849ce026.js";import{u as E}from"./useAuth.f17d0f46.js";const S={__name:"LoginForm",setup(w){const t=Q(),{login:d,loginWithGoogle:h}=E(),c=C(),n=u(""),i=u(""),a=u(!1),_=async()=>{try{a.value=!0,await d(n.value,i.value)}catch{t.notify({message:"Couldn't login. Please verify your email and password.",color:"negative",position:"top"})}finally{a.value=!1}},b=async()=>{try{a.value=!0,await h(),alert("Logged in successfully! Redirecting to main page..."),c.push("/")}catch{t.notify({message:"Couldn't login. Please verify your email and password.",color:"negative",position:"top"})}finally{a.value=!1}},x=()=>{c.push("/signup")};return(m,o)=>(y(),v(f,{class:"q-pa-md flex flex-center"},{default:s(()=>[e(q,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:s(()=>[e(p,null,{default:s(()=>o[2]||(o[2]=[P("div",{class:"text-h6 text-center"},"Login",-1)])),_:1}),e(p,null,{default:s(()=>[e(L,{onSubmit:_},{default:s(()=>[e(g,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[l=>!!l||"Email is required"]},null,8,["modelValue","rules"]),e(g,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=l=>i.value=l),label:"Password",type:"password",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your password",rules:[l=>!!l||"Password is required"]},null,8,["modelValue","rules"]),e(r,{type:"submit",label:"Login",color:"indigo",class:"full-width q-mb-sm",loading:a.value},null,8,["loading"]),e(r,{label:"Login with Google",color:"white",icon:"img:"+k(V),class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:b,loading:a.value},null,8,["icon","loading"])]),_:1}),e(r,{label:"Don't have an account yet? Signup",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:x})]),_:1})]),_:1})]),_:1}))}},U=B({name:"LoginPage",__name:"LoginPage",setup(w){return(t,d)=>(y(),v(f,null,{default:s(()=>[e(S)]),_:1}))}});export{U as default};
