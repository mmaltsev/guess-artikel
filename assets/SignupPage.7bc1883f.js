import{d as V,e as q,Q as w,f as b}from"./use-quasar.8f50ecf4.js";import{Q as c,u as U}from"./useAuth.e93878d9.js";import{u as k,i as t,o as h,e as _,w as o,f as l,$ as E,N as y,Q as f,aj as $,d as B}from"./index.da6493bb.js";import{Q as F}from"./QForm.f8aa71e6.js";import{g as G}from"./google-icon.a82a1b1f.js";const I={__name:"SignupForm",setup(x){const r=V(),{register:g,loginWithGoogle:P}=U(),d=k(),m=t(""),n=t(""),p=t(""),s=t(!1),i=t(!0),u=t(!0),C=async()=>{try{if(s.value=!0,n.value!==p.value)throw new Error("Passwords do not match");await g(m.value,n.value),d.push("/login")}catch{r.notify({message:"Couldn't sign up. Please try again.",color:"negative",position:"top"})}finally{s.value=!1}},Q=async()=>{try{s.value=!0,await P(),d.push("/")}catch{r.notify({message:"Couldn't sign up. Please try again.",color:"negative",position:"top"})}finally{s.value=!1}},S=()=>{d.push("/login")};return(v,a)=>(h(),_(b,{class:"q-pa-md flex flex-center"},{default:o(()=>[l(q,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:o(()=>[l(w,null,{default:o(()=>a[5]||(a[5]=[E("div",{class:"text-h6 text-center"},"Sign Up",-1)])),_:1}),l(w,null,{default:o(()=>[l(F,{onSubmit:C},{default:o(()=>[l(c,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[e=>!!e||"Email is required"]},null,8,["modelValue","rules"]),l(c,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),label:"Password",type:i.value?"password":"text",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter a password",autocomplete:"on",rules:[e=>!!e&&e.length>=6||"Password needs to be at least 6 characters"]},{append:o(()=>[l(y,{name:i.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=e=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),l(c,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=e=>p.value=e),label:"Confirm Password",type:u.value?"password":"text",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Confirm your password",autocomplete:"on",rules:[e=>e===n.value||"Passwords must match"]},{append:o(()=>[l(y,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[3]||(a[3]=e=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),l(f,{type:"submit",label:"Sign Up",color:"indigo",class:"full-width q-mb-sm",loading:s.value},null,8,["loading"])]),_:1}),l(f,{label:"Sign Up with Google",color:"white",icon:"img:"+$(G),class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:Q,loading:s.value},null,8,["icon","loading"]),l(f,{label:"Already have an account? Login",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:S})]),_:1})]),_:1})]),_:1}))}},T=B({name:"SignupPage",__name:"SignupPage",setup(x){return(r,g)=>(h(),_(b,null,{default:o(()=>[l(I)]),_:1}))}});export{T as default};
