import{Q as _}from"./QPage.53b595ae.js";import{_ as h,Q as v,b as m}from"./plugin-vue_export-helper.a626c6c1.js";import{Q as y,a as g,u as S}from"./useAuth.dc49d19d.js";import{u as x,i as t,o as f,e as w,w as s,f as o,W as b,Q as p,g as V,Z as P,a0 as U,d as C}from"./index.a568e2c3.js";const Q={setup(){const{register:d,loginWithGoogle:l}=S(),n=x(),e=t(""),i=t(""),u=t(""),a=t(!1),r=t("");return{email:e,password:i,confirmPassword:u,handleSignUp:async()=>{try{if(a.value=!0,r.value="",i.value!==u.value)throw new Error("Passwords do not match");await d(e.value,i.value),alert("Please verify your email! Redirecting to login..."),n.push("/login")}catch(c){r.value=c.message}finally{a.value=!1}},handleGoogleSignUp:async()=>{try{a.value=!0,r.value="",await l(),alert("Account created successfully! Redirecting to main page..."),n.push("/")}catch(c){r.value=c.message}finally{a.value=!1}},goToLogin:()=>{n.push("/login")},loading:a,error:r}}};function q(d,l,n,e,i,u){return f(),w(_,{class:"q-pa-md flex flex-center"},{default:s(()=>[o(v,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:s(()=>[o(m,null,{default:s(()=>l[3]||(l[3]=[b("div",{class:"text-h6 text-center"},"Sign Up",-1)])),_:1}),o(m,null,{default:s(()=>[o(y,{onSubmit:e.handleSignUp},{default:s(()=>[o(g,{modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=a=>e.email=a),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[a=>!!a||"Email is required"]},null,8,["modelValue","rules"]),o(g,{modelValue:e.password,"onUpdate:modelValue":l[1]||(l[1]=a=>e.password=a),label:"Password",type:"password",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter a password",rules:[a=>!!a||"Password is required"]},null,8,["modelValue","rules"]),o(g,{modelValue:e.confirmPassword,"onUpdate:modelValue":l[2]||(l[2]=a=>e.confirmPassword=a),label:"Confirm Password",type:"password",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Confirm your password",rules:[a=>a===e.password||"Passwords must match"]},null,8,["modelValue","rules"]),o(p,{type:"submit",label:"Sign Up",color:"indigo",class:"full-width q-mb-sm",loading:e.loading},null,8,["loading"])]),_:1},8,["onSubmit"]),o(p,{label:"Sign Up with Google",color:"white",icon:"img:src/assets/google-icon.svg",class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:e.handleGoogleSignUp,loading:e.loading},null,8,["onClick","loading"]),o(p,{label:"Already have an account? Login",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:e.goToLogin},null,8,["onClick"])]),_:1}),e.error?(f(),w(m,{key:0,class:"text-negative text-center"},{default:s(()=>[V(P(e.error),1)]),_:1})):U("",!0)]),_:1})]),_:1})}var k=h(Q,[["render",q],["__scopeId","data-v-8e14f4a4"]]);const F=C({name:"SignupPage",__name:"SignupPage",setup(d){return(l,n)=>(f(),w(_,null,{default:s(()=>[o(k)]),_:1}))}});export{F as default};
