import{b as q,Q as C,c as g,d as v}from"./use-quasar.6a6e4e03.js";import{Q as f,u as L}from"./useAuth.c66cfb10.js";import{u as V,i as n,o as y,e as w,w as o,f as e,T as P,V as k,Q as c,af as B,d as E}from"./index.87c0138a.js";import{Q as S,g as G}from"./google-icon.c9eadf7b.js";const I={__name:"LoginForm",setup(_){const i=q(),{login:m,loginWithGoogle:h}=L(),u=V(),r=n(""),d=n(""),s=n(!1),t=n(!0),b=async()=>{try{s.value=!0,await m(r.value,d.value),u.push("/")}catch{i.notify({message:"Couldn't login. Please verify your email and password.",color:"negative",position:"top"})}finally{s.value=!1}},x=async()=>{try{s.value=!0,await h(),alert("Logged in successfully! Redirecting to main page..."),u.push("/")}catch{i.notify({message:"Couldn't login. Please verify your email and password.",color:"negative",position:"top"})}finally{s.value=!1}},Q=()=>{u.push("/signup")};return(p,l)=>(y(),w(v,{class:"q-pa-md flex flex-center"},{default:o(()=>[e(C,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:o(()=>[e(g,null,{default:o(()=>l[3]||(l[3]=[P("div",{class:"text-h6 text-center"},"Login",-1)])),_:1}),e(g,null,{default:o(()=>[e(S,{onSubmit:b},{default:o(()=>[e(f,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=a=>r.value=a),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[a=>!!a||"Email is required"]},null,8,["modelValue","rules"]),e(f,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=a=>d.value=a),label:"Password",type:t.value?"password":"text",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your password",autocomplete:"on",rules:[a=>!!a||"Password is required"]},{append:o(()=>[e(k,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[1]||(l[1]=a=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),e(c,{type:"submit",label:"Login",color:"indigo",class:"full-width q-mb-sm",loading:s.value},null,8,["loading"]),e(c,{label:"Login with Google",color:"white",icon:"img:"+B(G),class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:x,loading:s.value},null,8,["icon","loading"])]),_:1}),e(c,{label:"Don't have an account yet? Signup",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:Q})]),_:1})]),_:1})]),_:1}))}},T=E({name:"LoginPage",__name:"LoginPage",setup(_){return(i,m)=>(y(),w(v,null,{default:o(()=>[e(I)]),_:1}))}});export{T as default};
