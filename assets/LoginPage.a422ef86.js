import{Q as h}from"./QPage.ab9c6385.js";import{_ as v,Q as w,b as m}from"./plugin-vue_export-helper.2c2e43da.js";import{Q as x,a as y}from"./QForm.07e2a780.js";import{u as L,i as r,o as p,e as _,w as t,f as l,W as b,Q as f,g as Q,Z as V,a0 as C,d as q}from"./index.19a03833.js";import{u as S}from"./useAuth.d6a410d5.js";const k={setup(){const{user:i,login:o,loginWithGoogle:u,logout:e}=S(),d=L(),c=r(""),a=r(""),n=r(!1),s=r("");return{email:c,password:a,user:i,handleLogin:async()=>{try{n.value=!0,s.value="",await o(c.value,a.value)}catch(g){s.value=g.message}finally{n.value=!1}},handleGoogleLogin:async()=>{try{n.value=!0,s.value="",await u(),alert("Account created successfully! Redirecting to main page..."),d.push("/")}catch(g){s.value=g.message}finally{n.value=!1}},handleLogout:async()=>{try{n.value=!0,await e()}finally{n.value=!1}},loading:n,error:s,goToSignup:()=>{d.push("/signup")}}}};function G(i,o,u,e,d,c){return p(),_(h,{class:"q-pa-md flex flex-center"},{default:t(()=>[l(w,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:t(()=>[l(m,null,{default:t(()=>o[2]||(o[2]=[b("div",{class:"text-h6 text-center"},"Login",-1)])),_:1}),l(m,null,{default:t(()=>[l(x,{onSubmit:e.handleLogin},{default:t(()=>[l(y,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=a=>e.email=a),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[a=>!!a||"Email is required"]},null,8,["modelValue","rules"]),l(y,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),label:"Password",type:"password",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your password",rules:[a=>!!a||"Password is required"]},null,8,["modelValue","rules"]),l(f,{type:"submit",label:"Login",color:"indigo",class:"full-width q-mb-sm",loading:e.loading},null,8,["loading"]),l(f,{label:"Login with Google",color:"white",icon:"img:~assets/google-icon.svg",class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:e.handleGoogleLogin,loading:e.loading},null,8,["onClick","loading"])]),_:1},8,["onSubmit"]),l(f,{label:"Don't have an account yet? Signup",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:e.goToSignup},null,8,["onClick"])]),_:1}),e.error?(p(),_(m,{key:0,class:"text-negative text-center"},{default:t(()=>[Q(V(e.error),1)]),_:1})):C("",!0)]),_:1})]),_:1})}var P=v(k,[["render",G],["__scopeId","data-v-7b42282c"]]);const U=q({name:"LoginPage",__name:"LoginPage",setup(i){return(o,u)=>(p(),_(h,null,{default:t(()=>[l(P)]),_:1}))}});export{U as default};
