import{b as S,Q as q,c as y,d as b}from"./use-quasar.6a6e4e03.js";import{Q as c,u as U}from"./useAuth.c66cfb10.js";import{u as k,i as t,o as h,e as _,w as o,f as l,T as E,V as w,Q as g,af as B,d as $}from"./index.87c0138a.js";import{Q as A,g as F}from"./google-icon.c9eadf7b.js";const G={__name:"SignupForm",setup(x){const r=S(),{register:f,loginWithGoogle:P}=U(),d=k(),m=t(""),n=t(""),p=t(""),s=t(!1),u=t(!0),i=t(!0),C=async()=>{try{if(s.value=!0,n.value!==p.value)throw new Error("Passwords do not match");await f(m.value,n.value),d.push("/login")}catch{r.notify({message:"Couldn't sign up. Please try again.",color:"negative",position:"top"})}finally{s.value=!1}},Q=async()=>{try{s.value=!0,await P(),alert("Account created successfully! Redirecting to main page..."),d.push("/")}catch{r.notify({message:"Couldn't sign up. Please try again.",color:"negative",position:"top"})}finally{s.value=!1}},V=()=>{d.push("/login")};return(v,a)=>(h(),_(b,{class:"q-pa-md flex flex-center"},{default:o(()=>[l(q,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:o(()=>[l(y,null,{default:o(()=>a[5]||(a[5]=[E("div",{class:"text-h6 text-center"},"Sign Up",-1)])),_:1}),l(y,null,{default:o(()=>[l(A,{onSubmit:C},{default:o(()=>[l(c,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[e=>!!e||"Email is required"]},null,8,["modelValue","rules"]),l(c,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),label:"Password",type:u.value?"password":"text",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter a password",autocomplete:"on",rules:[e=>!!e&&e.length>=6||"Password needs to be at least 6 characters"]},{append:o(()=>[l(w,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=e=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),l(c,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=e=>p.value=e),label:"Confirm Password",type:i.value?"password":"text",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Confirm your password",autocomplete:"on",rules:[e=>e===n.value||"Passwords must match"]},{append:o(()=>[l(w,{name:i.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[3]||(a[3]=e=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),l(g,{type:"submit",label:"Sign Up",color:"indigo",class:"full-width q-mb-sm",loading:s.value},null,8,["loading"])]),_:1}),l(g,{label:"Sign Up with Google",color:"white",icon:"img:"+B(F),class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:Q,loading:s.value},null,8,["icon","loading"]),l(g,{label:"Already have an account? Login",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:V})]),_:1})]),_:1})]),_:1}))}},T=$({name:"SignupPage",__name:"SignupPage",setup(x){return(r,f)=>(h(),_(b,null,{default:o(()=>[l(G)]),_:1}))}});export{T as default};
