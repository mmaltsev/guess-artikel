import{Q as v}from"./QPage.91746e8d.js";import{_ as w,Q as L,b as _}from"./plugin-vue_export-helper.2de9aff1.js";import{Q as x,a as h,u as b}from"./useAuth.7e01d25c.js";import{u as C,i as r,o as u,e as d,w as t,f as a,W as k,Q as i,a0 as y,g as Q,Z as V,d as q}from"./index.cfd97a53.js";const S={setup(){const{user:c,login:o,loginWithGoogle:g,logout:e}=b(),m=C(),f=r(""),l=r(""),n=r(!1),s=r("");return{email:f,password:l,user:c,handleLogin:async()=>{try{n.value=!0,s.value="",await o(f.value,l.value)}catch(p){s.value=p.message}finally{n.value=!1}},handleGoogleLogin:async()=>{try{n.value=!0,s.value="",await g(),alert("Account created successfully! Redirecting to main page..."),m.push("/")}catch(p){s.value=p.message}finally{n.value=!1}},handleLogout:async()=>{try{n.value=!0,await e()}finally{n.value=!1}},loading:n,error:s,goToSignup:()=>{m.push("/signup")}}}};function G(c,o,g,e,m,f){return u(),d(v,{class:"q-pa-md flex flex-center"},{default:t(()=>[a(L,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:t(()=>[a(_,null,{default:t(()=>o[2]||(o[2]=[k("div",{class:"text-h6 text-center"},"Login",-1)])),_:1}),a(_,null,{default:t(()=>[a(x,{onSubmit:e.handleLogin},{default:t(()=>[a(h,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=l=>e.email=l),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[l=>!!l||"Email is required"]},null,8,["modelValue","rules"]),a(h,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=l=>e.password=l),label:"Password",type:"password",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your password",rules:[l=>!!l||"Password is required"]},null,8,["modelValue","rules"]),a(i,{type:"submit",label:"Login",color:"indigo",class:"full-width q-mb-sm",loading:e.loading},null,8,["loading"]),a(i,{label:"Login with Google",color:"white",icon:"img:src/assets/google-icon.svg",class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:e.handleGoogleLogin,loading:e.loading},null,8,["onClick","loading"]),e.user?(u(),d(i,{key:0,onClick:e.handleLogout,label:"Logout",color:"negative",class:"full-width"},null,8,["onClick"])):y("",!0)]),_:1},8,["onSubmit"]),a(i,{label:"Don't have an account yet? Signup",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:e.goToSignup},null,8,["onClick"])]),_:1}),e.error?(u(),d(_,{key:0,class:"text-negative text-center"},{default:t(()=>[Q(V(e.error),1)]),_:1})):y("",!0)]),_:1})]),_:1})}var P=w(S,[["render",G],["__scopeId","data-v-0c0f8186"]]);const R=q({name:"LoginPage",__name:"LoginPage",setup(c){return(o,g)=>(u(),d(v,null,{default:t(()=>[a(P)]),_:1}))}});export{R as default};
