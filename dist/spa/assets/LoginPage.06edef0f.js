import{d as P,e as q,Q as g,f as v}from"./use-quasar.8f50ecf4.js";import{Q as f,u as L}from"./useAuth.e93878d9.js";import{u as V,i,o as y,e as w,w as o,f as e,$ as k,N as B,Q as r,aj as E,d as S}from"./index.da6493bb.js";import{Q as $}from"./QForm.f8aa71e6.js";import{g as F}from"./google-icon.a82a1b1f.js";const G={__name:"LoginForm",setup(h){const u=P(),{login:p,loginWithGoogle:_}=L(),t=V(),d=i(""),m=i(""),s=i(!1),n=i(!0),x=async()=>{try{s.value=!0,await p(d.value,m.value),t.push("/")}catch{u.notify({message:"Couldn't login. Please verify your email and password.",color:"negative",position:"top"})}finally{s.value=!1}},b=async()=>{try{s.value=!0,await _(),t.push("/")}catch{u.notify({message:"Couldn't login. Please verify your email and password.",color:"negative",position:"top"})}finally{s.value=!1}},Q=()=>{t.push("/signup")},C=()=>{t.push("/reset-password")};return(c,l)=>(y(),w(v,{class:"q-pa-md flex flex-center"},{default:o(()=>[e(q,{flat:"",class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:o(()=>[e(g,null,{default:o(()=>l[3]||(l[3]=[k("div",{class:"text-h6 text-center"},"Login",-1)])),_:1}),e(g,null,{default:o(()=>[e($,{onSubmit:x},{default:o(()=>[e(f,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=a=>d.value=a),label:"Email",type:"email",outlined:"",dense:"",class:"q-mb-sm",placeholder:"Enter your email",rules:[a=>!!a||"Email is required"]},null,8,["modelValue","rules"]),e(f,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=a=>m.value=a),label:"Password",type:n.value?"password":"text",outlined:"",dense:"",placeholder:"Enter your password",autocomplete:"on",rules:[a=>!!a||"Password is required"]},{append:o(()=>[e(B,{name:n.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[1]||(l[1]=a=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),e(r,{flat:"",dense:"",label:"Forgot Password?",class:"text-indigo q-mb-sm",style:{float:"right","margin-top":"-12px"},"no-caps":"",onClick:C}),e(r,{type:"submit",label:"Login",color:"indigo",class:"full-width q-mb-sm",loading:s.value},null,8,["loading"]),e(r,{label:"Login with Google",color:"white",icon:"img:"+E(F),class:"full-width q-my-sm","text-color":"primary",unelevated:"",outline:"",onClick:b,loading:s.value},null,8,["icon","loading"])]),_:1}),e(r,{label:"Don't have an account yet? Signup",flat:"","no-caps":"",color:"indigo",class:"full-width",onClick:Q})]),_:1})]),_:1})]),_:1}))}},j=S({name:"LoginPage",__name:"LoginPage",setup(h){return(u,p)=>(y(),w(v,null,{default:o(()=>[e(G)]),_:1}))}});export{j as default};
